{"ast":null,"code":"import React,{useRef,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import GlassCard from'./GlassCard';import{EVENT_TYPES}from'../data/mockData';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const typeIcons={[EVENT_TYPES.REQUEST]:'→',[EVENT_TYPES.ALLOCATE]:'✓',[EVENT_TYPES.BLOCK]:'⏸',[EVENT_TYPES.DEADLOCK]:'⚠',[EVENT_TYPES.RECOVERY]:'↻',[EVENT_TYPES.RELEASE]:'←',prevention:'⛔',avoidance_safe:'✔',avoidance_denied:'⚠'};export default function EventLog(_ref){let{events}=_ref;const scrollRef=useRef(null);useEffect(()=>{if(scrollRef.current){scrollRef.current.scrollTop=0;}},[events.length]);return/*#__PURE__*/_jsxs(GlassCard,{className:\"p-5 flex flex-col\",style:{maxHeight:480},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-sm font-semibold text-surface-300 uppercase tracking-wider\",children:\"Deadlock Event Log\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-surface-500 tabular-nums\",children:[events.length,\" entries\"]})]}),/*#__PURE__*/_jsxs(\"div\",{ref:scrollRef,className:\"flex-1 overflow-y-auto space-y-1 pr-1 custom-scrollbar\",style:{maxHeight:400},children:[/*#__PURE__*/_jsx(AnimatePresence,{initial:false,children:events.map(event=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,height:0,x:-20},animate:{opacity:1,height:'auto',x:0},exit:{opacity:0,height:0},transition:{duration:0.25},className:\"flex items-start gap-3 py-2.5 px-3 rounded-lg border-l-2 \".concat(event.type===EVENT_TYPES.DEADLOCK?'bg-danger/5 border-danger/60':event.type===EVENT_TYPES.RECOVERY?'bg-purple-500/5 border-purple-500/60':event.type===EVENT_TYPES.BLOCK?'bg-warning/5 border-warning/60':event.type===EVENT_TYPES.ALLOCATE?'bg-success/5 border-success/60':event.type==='prevention'?'bg-emerald-500/5 border-emerald-500/60':event.type==='avoidance_safe'?'bg-blue-500/5 border-blue-500/60':event.type==='avoidance_denied'?'bg-amber-500/5 border-amber-500/60':'bg-surface-800/30 border-surface-600/40'),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mt-0.5 w-5 text-center flex-shrink-0\",style:{color:event.color},children:typeIcons[event.type]||'•'}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-0.5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded\",style:{color:event.color,backgroundColor:\"\".concat(event.color,\"15\")},children:event.label}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-surface-500 font-mono tabular-nums\",children:event.timestamp})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-surface-300 font-mono leading-relaxed break-words\",children:event.message})]})]},event.id))}),events.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-32 text-surface-500 text-sm\",children:\"No events yet. Start the simulation.\"})]})]});}","map":{"version":3,"names":["React","useRef","useEffect","motion","AnimatePresence","GlassCard","EVENT_TYPES","jsx","_jsx","jsxs","_jsxs","typeIcons","REQUEST","ALLOCATE","BLOCK","DEADLOCK","RECOVERY","RELEASE","prevention","avoidance_safe","avoidance_denied","EventLog","_ref","events","scrollRef","current","scrollTop","length","className","style","maxHeight","children","ref","initial","map","event","div","opacity","height","x","animate","exit","transition","duration","concat","type","color","backgroundColor","label","timestamp","message","id"],"sources":["C:/Users/suchindra/Downloads/Deadlock_Online_Shopping/dashboard/src/components/EventLog.jsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport GlassCard from './GlassCard';\r\nimport { EVENT_TYPES } from '../data/mockData';\r\n\r\nconst typeIcons = {\r\n  [EVENT_TYPES.REQUEST]: '→',\r\n  [EVENT_TYPES.ALLOCATE]: '✓',\r\n  [EVENT_TYPES.BLOCK]: '⏸',\r\n  [EVENT_TYPES.DEADLOCK]: '⚠',\r\n  [EVENT_TYPES.RECOVERY]: '↻',\r\n  [EVENT_TYPES.RELEASE]: '←',\r\n  prevention: '⛔',\r\n  avoidance_safe: '✔',\r\n  avoidance_denied: '⚠',\r\n};\r\n\r\nexport default function EventLog({ events }) {\r\n  const scrollRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (scrollRef.current) {\r\n      scrollRef.current.scrollTop = 0;\r\n    }\r\n  }, [events.length]);\r\n\r\n  return (\r\n    <GlassCard className=\"p-5 flex flex-col\" style={{ maxHeight: 480 }}>\r\n      <div className=\"flex items-center justify-between mb-3\">\r\n        <h2 className=\"text-sm font-semibold text-surface-300 uppercase tracking-wider\">\r\n          Deadlock Event Log\r\n        </h2>\r\n        <span className=\"text-xs text-surface-500 tabular-nums\">\r\n          {events.length} entries\r\n        </span>\r\n      </div>\r\n\r\n      <div\r\n        ref={scrollRef}\r\n        className=\"flex-1 overflow-y-auto space-y-1 pr-1 custom-scrollbar\"\r\n        style={{ maxHeight: 400 }}\r\n      >\r\n        <AnimatePresence initial={false}>\r\n          {events.map((event) => (\r\n            <motion.div\r\n              key={event.id}\r\n              initial={{ opacity: 0, height: 0, x: -20 }}\r\n              animate={{ opacity: 1, height: 'auto', x: 0 }}\r\n              exit={{ opacity: 0, height: 0 }}\r\n              transition={{ duration: 0.25 }}\r\n              className={`flex items-start gap-3 py-2.5 px-3 rounded-lg border-l-2 ${\r\n                event.type === EVENT_TYPES.DEADLOCK\r\n                  ? 'bg-danger/5 border-danger/60'\r\n                  : event.type === EVENT_TYPES.RECOVERY\r\n                  ? 'bg-purple-500/5 border-purple-500/60'\r\n                  : event.type === EVENT_TYPES.BLOCK\r\n                  ? 'bg-warning/5 border-warning/60'\r\n                  : event.type === EVENT_TYPES.ALLOCATE\r\n                  ? 'bg-success/5 border-success/60'\r\n                  : event.type === 'prevention'\r\n                  ? 'bg-emerald-500/5 border-emerald-500/60'\r\n                  : event.type === 'avoidance_safe'\r\n                  ? 'bg-blue-500/5 border-blue-500/60'\r\n                  : event.type === 'avoidance_denied'\r\n                  ? 'bg-amber-500/5 border-amber-500/60'\r\n                  : 'bg-surface-800/30 border-surface-600/40'\r\n              }`}\r\n            >\r\n              <span\r\n                className=\"text-sm mt-0.5 w-5 text-center flex-shrink-0\"\r\n                style={{ color: event.color }}\r\n              >\r\n                {typeIcons[event.type] || '•'}\r\n              </span>\r\n              <div className=\"min-w-0 flex-1\">\r\n                <div className=\"flex items-center gap-2 mb-0.5\">\r\n                  <span\r\n                    className=\"text-[10px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded\"\r\n                    style={{\r\n                      color: event.color,\r\n                      backgroundColor: `${event.color}15`,\r\n                    }}\r\n                  >\r\n                    {event.label}\r\n                  </span>\r\n                  <span className=\"text-[10px] text-surface-500 font-mono tabular-nums\">\r\n                    {event.timestamp}\r\n                  </span>\r\n                </div>\r\n                <p className=\"text-xs text-surface-300 font-mono leading-relaxed break-words\">\r\n                  {event.message}\r\n                </p>\r\n              </div>\r\n            </motion.div>\r\n          ))}\r\n        </AnimatePresence>\r\n\r\n        {events.length === 0 && (\r\n          <div className=\"flex items-center justify-center h-32 text-surface-500 text-sm\">\r\n            No events yet. Start the simulation.\r\n          </div>\r\n        )}\r\n      </div>\r\n    </GlassCard>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}