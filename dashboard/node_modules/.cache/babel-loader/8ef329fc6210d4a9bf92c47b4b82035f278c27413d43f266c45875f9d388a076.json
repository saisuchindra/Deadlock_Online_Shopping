{"ast":null,"code":"import React,{useMemo,useRef,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import GlassCard from'./GlassCard';import{Play,Cpu,Lock,Unlock,Clock,AlertTriangle,ShieldCheck,Activity,Zap,Eye,EyeOff,MemoryStick,Terminal}from'lucide-react';/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\n   LIVE OS-LEVEL MONITOR\r\n   \r\n   Connected to the main dashboard simulation (useSimulation).\r\n   Translates customer/resource state into an OS kernel view:\r\n   - PCB (Process Control Block) table\r\n   - Thread scheduling & context switches\r\n   - Mutex ownership and kernel wait queues\r\n   - Live Resource Allocation Graph (RAG) from OS perspective\r\n   - Kernel event stream\r\n   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê *//* ‚îÄ‚îÄ‚îÄ Map sim customer state ‚Üí OS thread state ‚îÄ‚îÄ‚îÄ */import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function mapOsState(customerState){const map={idle:{label:'NEW',color:'bg-slate-500',text:'text-slate-400',icon:'‚óã',priority:0},running:{label:'RUNNING',color:'bg-emerald-500',text:'text-emerald-400',icon:'‚ñ∂',priority:3},waiting:{label:'BLOCKED',color:'bg-rose-500',text:'text-rose-400',icon:'‚è∏',priority:2},deadlocked:{label:'DEADLOCKED',color:'bg-red-600',text:'text-red-400',icon:'üíÄ',priority:4}};return map[customerState]||map.idle;}/* ‚îÄ‚îÄ‚îÄ Mutex state from resource ‚îÄ‚îÄ‚îÄ */function mutexInfo(resource){if(!resource.available&&resource.owner){return{state:'LOCKED',color:'text-amber-400',bg:'bg-amber-500/10',border:'border-amber-500/30',icon:'üîí'};}return{state:'UNLOCKED',color:'text-emerald-400',bg:'bg-emerald-500/10',border:'border-emerald-500/30',icon:'üîì'};}/* ‚îÄ‚îÄ‚îÄ Tiny SVG for live RAG ‚îÄ‚îÄ‚îÄ */function LiveRAG(_ref){let{customers,resources}=_ref;const activeCustomers=customers.filter(c=>c.state!=='idle');const activeResources=resources.filter(r=>{var _r$waitingThreads;return!r.available||((_r$waitingThreads=r.waitingThreads)===null||_r$waitingThreads===void 0?void 0:_r$waitingThreads.length)>0;});// Layout: customers on top, resources on bottom\nconst cNodes=activeCustomers.slice(0,8).map((c,i)=>({id:c.name,type:'thread',x:50+i*75,y:40,state:c.state,holding:c.holding||[],waiting:c.waiting}));const rNodes=activeResources.slice(0,8).map((r,i)=>({id:r.id,type:'resource',x:50+i*75,y:160,owner:r.owner,waitQueue:r.waitingThreads||[]}));const nodeMap={};cNodes.forEach(n=>{nodeMap[n.id]=n;});rNodes.forEach(n=>{nodeMap[n.id]=n;});// Build edges: holds (resource ‚Üí thread) and waits (thread ‚Üí resource)\nconst edges=[];cNodes.forEach(cn=>{cn.holding.forEach(rid=>{if(nodeMap[rid]){edges.push({from:nodeMap[rid],to:cn,type:'holds',cycle:cn.state==='deadlocked'});}});if(cn.waiting&&nodeMap[cn.waiting]){edges.push({from:cn,to:nodeMap[cn.waiting],type:'waits',cycle:cn.state==='deadlocked'});}});const svgWidth=Math.max(400,Math.max(cNodes.length,rNodes.length)*75+50);return/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 \".concat(svgWidth,\" 200\"),className:\"w-full h-auto\",style:{minHeight:180},children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsx(\"marker\",{id:\"lm-arrow-hold\",viewBox:\"0 0 10 7\",refX:\"10\",refY:\"3.5\",markerWidth:\"6\",markerHeight:\"4\",orient:\"auto-start-reverse\",children:/*#__PURE__*/_jsx(\"polygon\",{points:\"0 0, 10 3.5, 0 7\",fill:\"#10b981\"})}),/*#__PURE__*/_jsx(\"marker\",{id:\"lm-arrow-wait\",viewBox:\"0 0 10 7\",refX:\"10\",refY:\"3.5\",markerWidth:\"6\",markerHeight:\"4\",orient:\"auto-start-reverse\",children:/*#__PURE__*/_jsx(\"polygon\",{points:\"0 0, 10 3.5, 0 7\",fill:\"#6b7280\"})}),/*#__PURE__*/_jsx(\"marker\",{id:\"lm-arrow-cycle\",viewBox:\"0 0 10 7\",refX:\"10\",refY:\"3.5\",markerWidth:\"6\",markerHeight:\"4\",orient:\"auto-start-reverse\",children:/*#__PURE__*/_jsx(\"polygon\",{points:\"0 0, 10 3.5, 0 7\",fill:\"#ef4444\"})}),/*#__PURE__*/_jsxs(\"filter\",{id:\"lm-glow\",children:[/*#__PURE__*/_jsx(\"feGaussianBlur\",{stdDeviation:\"3\",result:\"blur\"}),/*#__PURE__*/_jsxs(\"feMerge\",{children:[/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"blur\"}),/*#__PURE__*/_jsx(\"feMergeNode\",{in:\"SourceGraphic\"})]})]})]}),edges.map((e,i)=>/*#__PURE__*/_jsx(\"line\",{x1:e.from.x,y1:e.from.y,x2:e.to.x,y2:e.to.y,stroke:e.cycle?'#ef4444':e.type==='holds'?'#10b981':'#6b7280',strokeWidth:e.cycle?2.5:1.5,strokeDasharray:e.type==='waits'?'5 3':'none',markerEnd:e.cycle?'url(#lm-arrow-cycle)':e.type==='holds'?'url(#lm-arrow-hold)':'url(#lm-arrow-wait)',filter:e.cycle?'url(#lm-glow)':'none',opacity:0.8},\"e\".concat(i))),cNodes.map(n=>{const os=mapOsState(n.state);const colors={running:{fill:'rgba(16,185,129,0.2)',stroke:'#10b981'},waiting:{fill:'rgba(244,63,94,0.2)',stroke:'#f43f5e'},deadlocked:{fill:'rgba(239,68,68,0.3)',stroke:'#ef4444'},idle:{fill:'rgba(100,116,139,0.2)',stroke:'#64748b'}};const c=colors[n.state]||colors.idle;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"circle\",{cx:n.x,cy:n.y,r:20,fill:c.fill,stroke:c.stroke,strokeWidth:n.state==='deadlocked'?3:1.5,filter:n.state==='deadlocked'?'url(#lm-glow)':'none'}),/*#__PURE__*/_jsx(\"text\",{x:n.x,y:n.y-4,textAnchor:\"middle\",fill:\"#e5e7eb\",fontSize:\"8\",fontWeight:\"bold\",fontFamily:\"monospace\",children:n.id.replace('Customer ','T')}),/*#__PURE__*/_jsx(\"text\",{x:n.x,y:n.y+7,textAnchor:\"middle\",fill:c.stroke,fontSize:\"6\",fontWeight:\"600\",children:os.label})]},n.id);}),rNodes.map(n=>{var _n$owner;const isLocked=n.owner!==null;return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"rect\",{x:n.x-20,y:n.y-16,width:40,height:32,rx:6,fill:isLocked?'rgba(245,158,11,0.15)':'rgba(99,102,241,0.15)',stroke:isLocked?'#f59e0b':'#6366f1',strokeWidth:1.5}),/*#__PURE__*/_jsx(\"text\",{x:n.x,y:n.y-2,textAnchor:\"middle\",fill:\"#e5e7eb\",fontSize:\"9\",fontWeight:\"bold\",fontFamily:\"monospace\",children:n.id}),/*#__PURE__*/_jsx(\"text\",{x:n.x,y:n.y+9,textAnchor:\"middle\",fill:\"#9ca3af\",fontSize:\"6\",children:isLocked?\"\\uD83D\\uDD12\".concat((_n$owner=n.owner)===null||_n$owner===void 0?void 0:_n$owner.replace('Customer ','T')):'üîìfree'})]},n.id);}),/*#__PURE__*/_jsxs(\"g\",{transform:\"translate(8, 192)\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"0\",y1:\"0\",x2:\"14\",y2:\"0\",stroke:\"#10b981\",strokeWidth:\"1.5\"}),/*#__PURE__*/_jsx(\"text\",{x:\"17\",y:\"3\",fill:\"#9ca3af\",fontSize:\"6\",children:\"Holds\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"55\",y1:\"0\",x2:\"69\",y2:\"0\",stroke:\"#6b7280\",strokeWidth:\"1.5\",strokeDasharray:\"4 2\"}),/*#__PURE__*/_jsx(\"text\",{x:\"72\",y:\"3\",fill:\"#9ca3af\",fontSize:\"6\",children:\"Waits\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"107\",y1:\"0\",x2:\"121\",y2:\"0\",stroke:\"#ef4444\",strokeWidth:\"2.5\"}),/*#__PURE__*/_jsx(\"text\",{x:\"124\",y:\"3\",fill:\"#9ca3af\",fontSize:\"6\",children:\"Cycle\"})]})]});}/* ‚îÄ‚îÄ‚îÄ Kernel event translator ‚îÄ‚îÄ‚îÄ */function translateToOsEvent(ev){const typeMap={request:{osType:'SYSCALL',icon:'üìû',badge:'bg-blue-500/15 text-blue-400'},allocate:{osType:'MUTEX_LOCK',icon:'üîí',badge:'bg-emerald-500/15 text-emerald-400'},release:{osType:'MUTEX_UNLOCK',icon:'üîì',badge:'bg-teal-500/15 text-teal-400'},block:{osType:'BLOCK',icon:'‚è∏',badge:'bg-amber-500/15 text-amber-400'},deadlock:{osType:'DEADLOCK',icon:'üíÄ',badge:'bg-red-500/15 text-red-400'},recovery:{osType:'RECOVERY',icon:'üõ†',badge:'bg-orange-500/15 text-orange-400'},prevention:{osType:'PREVENT',icon:'üõ°',badge:'bg-emerald-500/15 text-emerald-400'},avoidance_safe:{osType:'BANKER_OK',icon:'‚úÖ',badge:'bg-blue-500/15 text-blue-400'},avoidance_denied:{osType:'BANKER_DENY',icon:'‚õî',badge:'bg-amber-500/15 text-amber-400'}};return typeMap[ev.type]||{osType:'KERNEL',icon:'‚öô',badge:'bg-surface-500/15 text-surface-400'};}/* ‚îÄ‚îÄ‚îÄ Kernel Event Feed ‚îÄ‚îÄ‚îÄ */function KernelEventFeed(_ref2){let{events}=_ref2;const scrollRef=useRef(null);useEffect(()=>{if(scrollRef.current)scrollRef.current.scrollTop=0;},[events.length]);const recent=events.slice(0,30);return/*#__PURE__*/_jsx(\"div\",{ref:scrollRef,className:\"overflow-y-auto space-y-1 pr-1 custom-scrollbar\",style:{maxHeight:350},children:recent.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-surface-500 text-xs py-8\",children:[\"Press \",/*#__PURE__*/_jsx(\"span\",{className:\"text-accent-light font-bold\",children:\"Start\"}),\" on the Dashboard to begin\"]}):/*#__PURE__*/_jsx(AnimatePresence,{initial:false,children:recent.map((ev,i)=>{const os=translateToOsEvent(ev);return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:0.2},className:\"flex items-start gap-2 py-1.5 px-2.5 rounded-lg bg-surface-900/30 border-l-2 border-surface-700/40\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm mt-0.5 flex-shrink-0\",children:os.icon}),/*#__PURE__*/_jsxs(\"div\",{className:\"min-w-0 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-0.5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[8px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded \".concat(os.badge),children:os.osType}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[8px] text-surface-500 font-mono\",children:ev.timestamp})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[10px] text-surface-300 font-mono leading-relaxed truncate\",title:ev.message,children:ev.message})]})]},ev.id||i);})})});}/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\n   MAIN COMPONENT\r\n   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */export default function OSLiveMonitor(_ref3){let{sim}=_ref3;const{isRunning,tick,systemStatus,customers,resources,eventLog,graphData,deadlockCount,recoveryCount,preventionEnabled,avoidanceEnabled,detectionEnabled}=sim;// Derive OS-level stats\nconst threadStats=useMemo(()=>{const states={running:0,waiting:0,deadlocked:0,idle:0};customers.forEach(c=>{states[c.state]=(states[c.state]||0)+1;});return states;},[customers]);const mutexStats=useMemo(()=>{const locked=resources.filter(r=>!r.available).length;const free=resources.filter(r=>r.available).length;const contended=resources.filter(r=>{var _r$waitingThreads2;return((_r$waitingThreads2=r.waitingThreads)===null||_r$waitingThreads2===void 0?void 0:_r$waitingThreads2.length)>0;}).length;return{locked,free,contended,total:resources.length};},[resources]);const statusConfig={idle:{label:'OFFLINE',color:'text-surface-400',bg:'bg-surface-800/50',border:'border-surface-600/30',glow:''},running:{label:'EXECUTING',color:'text-emerald-400',bg:'bg-emerald-500/10',border:'border-emerald-500/30',glow:'success'},deadlock:{label:'DEADLOCK!',color:'text-red-400',bg:'bg-red-500/10',border:'border-red-500/30',glow:'danger'},recovery:{label:'RECOVERING',color:'text-orange-400',bg:'bg-orange-500/10',border:'border-orange-500/30',glow:''}};const sc=statusConfig[systemStatus]||statusConfig.idle;return/*#__PURE__*/_jsxs(GlassCard,{className:\"p-6\",glow:sc.glow,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2.5 rounded-xl \".concat(sc.bg,\" border \").concat(sc.border),children:/*#__PURE__*/_jsx(Terminal,{size:20,className:sc.color})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-lg font-extrabold text-white flex items-center gap-2\",children:[\"Live OS Execution Monitor\",isRunning&&/*#__PURE__*/_jsxs(\"span\",{className:\"relative flex h-2.5 w-2.5\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"}),/*#__PURE__*/_jsx(\"span\",{className:\"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-400\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-surface-400 mt-0.5\",children:isRunning?\"Kernel view of running simulation \\u2014 Tick \".concat(tick):'Press Start on the Dashboard to see OS execution in real-time'})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 px-3 py-2 rounded-xl text-xs font-bold border \".concat(sc.bg,\" \").concat(sc.border,\" \").concat(sc.color),children:[systemStatus==='deadlock'?/*#__PURE__*/_jsx(AlertTriangle,{size:13}):systemStatus==='running'?/*#__PURE__*/_jsx(Activity,{size:13}):/*#__PURE__*/_jsx(Clock,{size:13}),sc.label]}),preventionEnabled&&/*#__PURE__*/_jsx(\"span\",{className:\"text-[9px] font-bold px-2 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/30 text-emerald-400\",children:\"\\uD83D\\uDEE1 PREVENTION\"}),avoidanceEnabled&&/*#__PURE__*/_jsx(\"span\",{className:\"text-[9px] font-bold px-2 py-1.5 rounded-lg bg-blue-500/10 border border-blue-500/30 text-blue-400\",children:\"\\uD83C\\uDFE6 AVOIDANCE\"}),detectionEnabled&&/*#__PURE__*/_jsx(\"span\",{className:\"text-[9px] font-bold px-2 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/30 text-violet-400\",children:\"\\uD83D\\uDD0D DETECTION\"})]})]}),!isRunning&&systemStatus==='idle'?/*#__PURE__*//* Idle state - prompt */_jsxs(\"div\",{className:\"flex flex-col items-center justify-center py-12 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 rounded-2xl bg-surface-800/40 border border-surface-700/30 mb-4\",children:/*#__PURE__*/_jsx(Cpu,{size:40,className:\"text-surface-500\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-bold text-surface-300 mb-2\",children:\"Simulation Not Running\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-surface-500 max-w-md leading-relaxed\",children:[\"Go to the \",/*#__PURE__*/_jsx(\"span\",{className:\"text-accent-light font-semibold\",children:\"Dashboard\"}),\" tab and press\",' ',/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-0.5 rounded bg-emerald-500/15 text-emerald-400 font-bold text-[10px]\",children:[/*#__PURE__*/_jsx(Play,{size:10}),\" Start\"]}),' ',\"to begin the simulation. Then come back here to see OS-level execution in real-time.\"]})]}):/*#__PURE__*//* Live monitoring grid */_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-12 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-4 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-2.5 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider\",children:\"Threads\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-extrabold text-white mt-0.5\",children:customers.length}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[8px] text-surface-500\",children:[threadStats.running,\" running\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-2.5 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider\",children:\"Mutexes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-extrabold text-white mt-0.5\",children:mutexStats.total}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[8px] text-surface-500\",children:[mutexStats.locked,\" locked\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-2.5 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider\",children:\"Deadlocks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-extrabold mt-0.5 \".concat(deadlockCount>0?'text-red-400':'text-white'),children:deadlockCount}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-[8px] text-surface-500\",children:[recoveryCount,\" recovered\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-2.5 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider\",children:\"Contended\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-lg font-extrabold mt-0.5 \".concat(mutexStats.contended>0?'text-amber-400':'text-white'),children:mutexStats.contended}),/*#__PURE__*/_jsx(\"div\",{className:\"text-[8px] text-surface-500\",children:\"wait queues\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(Cpu,{size:10}),\" Process Control Block (PCB)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1.5 max-h-[300px] overflow-y-auto custom-scrollbar pr-1\",children:customers.map((c,i)=>{const os=mapOsState(c.state);return/*#__PURE__*/_jsxs(motion.div,{layout:true,className:\"flex items-center gap-2 py-1.5 px-2 rounded-lg transition-all duration-300 \".concat(c.state==='deadlocked'?'bg-red-500/10 border border-red-500/30':c.state==='waiting'?'bg-rose-500/5 border border-rose-500/20':c.state==='running'?'bg-emerald-500/5 border border-emerald-500/20':'bg-surface-800/20 border border-surface-700/20'),children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-[9px] font-mono text-surface-500 w-8\",children:[\"T\",i]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] font-semibold text-surface-200 flex-1 truncate\",title:c.name,children:c.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"relative flex h-2 w-2 flex-shrink-0\",children:[(c.state==='running'||c.state==='deadlocked')&&/*#__PURE__*/_jsx(\"span\",{className:\"animate-ping absolute inline-flex h-full w-full rounded-full \".concat(os.color,\" opacity-75\")}),/*#__PURE__*/_jsx(\"span\",{className:\"relative inline-flex rounded-full h-2 w-2 \".concat(os.color)})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[8px] font-bold uppercase tracking-wider w-16 text-right \".concat(os.text),children:os.label})]},c.name);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(Lock,{size:10}),\" Kernel Mutex Table\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1 max-h-[200px] overflow-y-auto custom-scrollbar pr-1\",children:resources.map(r=>{var _r$waitingThreads3;const mi=mutexInfo(r);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 py-1.5 px-2 rounded-lg border transition-all \".concat(mi.bg,\" \").concat(mi.border),children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm flex-shrink-0\",children:mi.icon}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] font-bold text-surface-200 flex-1 truncate\",title:r.name,children:r.name||r.id}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[8px] font-bold \".concat(mi.color),children:mi.state}),r.owner&&/*#__PURE__*/_jsx(\"span\",{className:\"text-[8px] text-amber-400 font-mono truncate max-w-[60px]\",title:r.owner,children:r.owner.replace('Customer ','T')}),((_r$waitingThreads3=r.waitingThreads)===null||_r$waitingThreads3===void 0?void 0:_r$waitingThreads3.length)>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-[7px] text-rose-400 font-mono\",children:[\"Q[\",r.waitingThreads.length,\"]\"]})]},r.id);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(Activity,{size:10}),\" Live Resource Allocation Graph\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-xl border p-3 transition-all duration-500 \".concat(systemStatus==='deadlock'?'bg-red-500/5 border-red-500/30':systemStatus==='recovery'?'bg-orange-500/5 border-orange-500/20':preventionEnabled||avoidanceEnabled?'bg-emerald-500/5 border-emerald-500/20':'bg-surface-900/50 border-surface-700/30'),children:[/*#__PURE__*/_jsx(LiveRAG,{customers:customers,resources:resources}),/*#__PURE__*/_jsxs(AnimatePresence,{mode:\"wait\",children:[systemStatus==='deadlock'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},exit:{opacity:0},className:\"text-center mt-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-bold text-red-400 px-3 py-1.5 rounded-full bg-red-500/10 border border-red-500/30 animate-pulse\",children:\"\\uD83D\\uDC80 CIRCULAR WAIT \\u2192 DEADLOCK DETECTED\"})},\"deadlock\"),systemStatus==='recovery'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"text-center mt-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-bold text-orange-400 px-3 py-1.5 rounded-full bg-orange-500/10 border border-orange-500/30\",children:\"\\uD83D\\uDEE0 OS Recovery: preempting victim thread...\"})},\"recovery\"),(preventionEnabled||avoidanceEnabled)&&systemStatus==='running'&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"text-center mt-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs font-bold text-emerald-400 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/30\",children:[preventionEnabled?'üõ° Resource Ordering Active':'üè¶ Banker\\'s Algorithm Active',\" \\u2014 No Deadlock\"]})},\"protected\")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 rounded-xl bg-surface-900/40 border border-surface-700/30 p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(Clock,{size:10}),\" OS Scheduler\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-surface-400\",children:\"Policy\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] font-bold text-blue-400\",children:\"CFS (Completely Fair Scheduler)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-surface-400\",children:\"Time Quantum\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] font-bold text-surface-200 font-mono\",children:\"1.2s (TICK_INTERVAL)\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-surface-400\",children:\"Ready Queue\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] font-bold text-emerald-400 font-mono\",children:[threadStats.running,\" threads\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-surface-400\",children:\"Wait Queue\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] font-bold font-mono \".concat(threadStats.waiting>0?'text-rose-400':'text-surface-400'),children:[threadStats.waiting+(threadStats.deadlocked||0),\" threads\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] text-surface-400\",children:\"Context Switches\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[10px] font-bold text-surface-200 font-mono\",children:[\"~\",tick*2,\"/s\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 rounded-xl bg-surface-900/40 border border-surface-700/30 p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(MemoryStick,{size:10}),\" Current Kernel Activity\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"font-mono text-[9px] text-surface-300 space-y-0.5 p-2 rounded bg-surface-950/60 border border-surface-800/40\",children:systemStatus==='deadlock'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400\",children:\"\\u2192 detect_deadlock(wait_for[][])\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-red-400\",children:\"  \\u2192 DFS: cycle found!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-orange-400\",children:\"  \\u2192 select_victim(lowest_priority)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-orange-400\",children:\"  \\u2192 preempt_resources(victim)\"})]}):systemStatus==='recovery'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-orange-400\",children:\"\\u2192 recover_deadlock()\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-orange-400\",children:\"  \\u2192 pthread_mutex_unlock(victim)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-emerald-400\",children:\"  \\u2192 wake_blocked_threads()\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-400\",children:\"  \\u2192 reschedule()\"})]}):preventionEnabled?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-emerald-400\",children:\"\\u2192 acquire_resource_ordered(tid, rid)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-emerald-400\",children:\"  \\u2192 check_ordering(held_max, rid)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-400\",children:\"  \\u2192 pthread_mutex_trylock(mutex[rid])\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-surface-400\",children:\"  \\u2192 schedule_next()\"})]}):avoidanceEnabled?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-400\",children:\"\\u2192 bankers_check(tid, rid)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-400\",children:\"  \\u2192 compute_safe_sequence()\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-emerald-400\",children:\"  \\u2192 safe_state ? grant() : deny()\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-surface-400\",children:\"  \\u2192 schedule_next()\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-blue-400\",children:\"\\u2192 schedule_tick()\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-surface-400\",children:\"  \\u2192 for_each_thread(try_acquire)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-surface-400\",children:\"  \\u2192 update_wait_queues()\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-surface-400\",children:\"  \\u2192 context_switch(next_thread)\"})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\",children:[/*#__PURE__*/_jsx(Zap,{size:10}),\" Kernel Event Stream (Live)\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"rounded-xl border border-surface-700/30 bg-surface-900/40 p-3\",children:/*#__PURE__*/_jsx(KernelEventFeed,{events:eventLog})})]})]})]});}","map":{"version":3,"names":["React","useMemo","useRef","useEffect","motion","AnimatePresence","GlassCard","Play","Cpu","Lock","Unlock","Clock","AlertTriangle","ShieldCheck","Activity","Zap","Eye","EyeOff","MemoryStick","Terminal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","mapOsState","customerState","map","idle","label","color","text","icon","priority","running","waiting","deadlocked","mutexInfo","resource","available","owner","state","bg","border","LiveRAG","_ref","customers","resources","activeCustomers","filter","c","activeResources","r","_r$waitingThreads","waitingThreads","length","cNodes","slice","i","id","name","type","x","y","holding","rNodes","waitQueue","nodeMap","forEach","n","edges","cn","rid","push","from","to","cycle","svgWidth","Math","max","viewBox","concat","className","style","minHeight","children","refX","refY","markerWidth","markerHeight","orient","points","fill","stdDeviation","result","in","e","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","markerEnd","opacity","os","colors","cx","cy","textAnchor","fontSize","fontWeight","fontFamily","replace","_n$owner","isLocked","width","height","rx","transform","translateToOsEvent","ev","typeMap","request","osType","badge","allocate","release","block","deadlock","recovery","prevention","avoidance_safe","avoidance_denied","KernelEventFeed","_ref2","events","scrollRef","current","scrollTop","recent","ref","maxHeight","initial","div","animate","transition","duration","timestamp","title","message","OSLiveMonitor","_ref3","sim","isRunning","tick","systemStatus","eventLog","graphData","deadlockCount","recoveryCount","preventionEnabled","avoidanceEnabled","detectionEnabled","threadStats","states","mutexStats","locked","free","contended","_r$waitingThreads2","total","statusConfig","glow","sc","size","layout","_r$waitingThreads3","mi","mode","scale","exit"],"sources":["C:/Users/suchindra/Downloads/Deadlock_Online_Shopping/dashboard/src/components/OSLiveMonitor.jsx"],"sourcesContent":["import React, { useMemo, useRef, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport GlassCard from './GlassCard';\r\nimport {\r\n  Play, Cpu, Lock, Unlock, Clock, AlertTriangle, ShieldCheck,\r\n  Activity, Zap, Eye, EyeOff, MemoryStick, Terminal,\r\n} from 'lucide-react';\r\n\r\n/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\n   LIVE OS-LEVEL MONITOR\r\n   \r\n   Connected to the main dashboard simulation (useSimulation).\r\n   Translates customer/resource state into an OS kernel view:\r\n   - PCB (Process Control Block) table\r\n   - Thread scheduling & context switches\r\n   - Mutex ownership and kernel wait queues\r\n   - Live Resource Allocation Graph (RAG) from OS perspective\r\n   - Kernel event stream\r\n   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */\r\n\r\n/* ‚îÄ‚îÄ‚îÄ Map sim customer state ‚Üí OS thread state ‚îÄ‚îÄ‚îÄ */\r\nfunction mapOsState(customerState) {\r\n  const map = {\r\n    idle: { label: 'NEW', color: 'bg-slate-500', text: 'text-slate-400', icon: '‚óã', priority: 0 },\r\n    running: { label: 'RUNNING', color: 'bg-emerald-500', text: 'text-emerald-400', icon: '‚ñ∂', priority: 3 },\r\n    waiting: { label: 'BLOCKED', color: 'bg-rose-500', text: 'text-rose-400', icon: '‚è∏', priority: 2 },\r\n    deadlocked: { label: 'DEADLOCKED', color: 'bg-red-600', text: 'text-red-400', icon: 'üíÄ', priority: 4 },\r\n  };\r\n  return map[customerState] || map.idle;\r\n}\r\n\r\n/* ‚îÄ‚îÄ‚îÄ Mutex state from resource ‚îÄ‚îÄ‚îÄ */\r\nfunction mutexInfo(resource) {\r\n  if (!resource.available && resource.owner) {\r\n    return { state: 'LOCKED', color: 'text-amber-400', bg: 'bg-amber-500/10', border: 'border-amber-500/30', icon: 'üîí' };\r\n  }\r\n  return { state: 'UNLOCKED', color: 'text-emerald-400', bg: 'bg-emerald-500/10', border: 'border-emerald-500/30', icon: 'üîì' };\r\n}\r\n\r\n/* ‚îÄ‚îÄ‚îÄ Tiny SVG for live RAG ‚îÄ‚îÄ‚îÄ */\r\nfunction LiveRAG({ customers, resources }) {\r\n  const activeCustomers = customers.filter(c => c.state !== 'idle');\r\n  const activeResources = resources.filter(r => !r.available || r.waitingThreads?.length > 0);\r\n\r\n  // Layout: customers on top, resources on bottom\r\n  const cNodes = activeCustomers.slice(0, 8).map((c, i) => ({\r\n    id: c.name, type: 'thread',\r\n    x: 50 + i * 75, y: 40,\r\n    state: c.state,\r\n    holding: c.holding || [],\r\n    waiting: c.waiting,\r\n  }));\r\n\r\n  const rNodes = activeResources.slice(0, 8).map((r, i) => ({\r\n    id: r.id, type: 'resource',\r\n    x: 50 + i * 75, y: 160,\r\n    owner: r.owner,\r\n    waitQueue: r.waitingThreads || [],\r\n  }));\r\n\r\n  const nodeMap = {};\r\n  cNodes.forEach(n => { nodeMap[n.id] = n; });\r\n  rNodes.forEach(n => { nodeMap[n.id] = n; });\r\n\r\n  // Build edges: holds (resource ‚Üí thread) and waits (thread ‚Üí resource)\r\n  const edges = [];\r\n  cNodes.forEach(cn => {\r\n    cn.holding.forEach(rid => {\r\n      if (nodeMap[rid]) {\r\n        edges.push({ from: nodeMap[rid], to: cn, type: 'holds', cycle: cn.state === 'deadlocked' });\r\n      }\r\n    });\r\n    if (cn.waiting && nodeMap[cn.waiting]) {\r\n      edges.push({ from: cn, to: nodeMap[cn.waiting], type: 'waits', cycle: cn.state === 'deadlocked' });\r\n    }\r\n  });\r\n\r\n  const svgWidth = Math.max(400, Math.max(cNodes.length, rNodes.length) * 75 + 50);\r\n\r\n  return (\r\n    <svg viewBox={`0 0 ${svgWidth} 200`} className=\"w-full h-auto\" style={{ minHeight: 180 }}>\r\n      <defs>\r\n        <marker id=\"lm-arrow-hold\" viewBox=\"0 0 10 7\" refX=\"10\" refY=\"3.5\" markerWidth=\"6\" markerHeight=\"4\" orient=\"auto-start-reverse\">\r\n          <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#10b981\" />\r\n        </marker>\r\n        <marker id=\"lm-arrow-wait\" viewBox=\"0 0 10 7\" refX=\"10\" refY=\"3.5\" markerWidth=\"6\" markerHeight=\"4\" orient=\"auto-start-reverse\">\r\n          <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#6b7280\" />\r\n        </marker>\r\n        <marker id=\"lm-arrow-cycle\" viewBox=\"0 0 10 7\" refX=\"10\" refY=\"3.5\" markerWidth=\"6\" markerHeight=\"4\" orient=\"auto-start-reverse\">\r\n          <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#ef4444\" />\r\n        </marker>\r\n        <filter id=\"lm-glow\">\r\n          <feGaussianBlur stdDeviation=\"3\" result=\"blur\" />\r\n          <feMerge><feMergeNode in=\"blur\" /><feMergeNode in=\"SourceGraphic\" /></feMerge>\r\n        </filter>\r\n      </defs>\r\n\r\n      {/* Edges */}\r\n      {edges.map((e, i) => (\r\n        <line\r\n          key={`e${i}`}\r\n          x1={e.from.x} y1={e.from.y}\r\n          x2={e.to.x} y2={e.to.y}\r\n          stroke={e.cycle ? '#ef4444' : e.type === 'holds' ? '#10b981' : '#6b7280'}\r\n          strokeWidth={e.cycle ? 2.5 : 1.5}\r\n          strokeDasharray={e.type === 'waits' ? '5 3' : 'none'}\r\n          markerEnd={e.cycle ? 'url(#lm-arrow-cycle)' : e.type === 'holds' ? 'url(#lm-arrow-hold)' : 'url(#lm-arrow-wait)'}\r\n          filter={e.cycle ? 'url(#lm-glow)' : 'none'}\r\n          opacity={0.8}\r\n        />\r\n      ))}\r\n\r\n      {/* Customer nodes (circles) */}\r\n      {cNodes.map(n => {\r\n        const os = mapOsState(n.state);\r\n        const colors = {\r\n          running: { fill: 'rgba(16,185,129,0.2)', stroke: '#10b981' },\r\n          waiting: { fill: 'rgba(244,63,94,0.2)', stroke: '#f43f5e' },\r\n          deadlocked: { fill: 'rgba(239,68,68,0.3)', stroke: '#ef4444' },\r\n          idle: { fill: 'rgba(100,116,139,0.2)', stroke: '#64748b' },\r\n        };\r\n        const c = colors[n.state] || colors.idle;\r\n        return (\r\n          <g key={n.id}>\r\n            <circle cx={n.x} cy={n.y} r={20} fill={c.fill} stroke={c.stroke} strokeWidth={n.state === 'deadlocked' ? 3 : 1.5} filter={n.state === 'deadlocked' ? 'url(#lm-glow)' : 'none'} />\r\n            <text x={n.x} y={n.y - 4} textAnchor=\"middle\" fill=\"#e5e7eb\" fontSize=\"8\" fontWeight=\"bold\" fontFamily=\"monospace\">\r\n              {n.id.replace('Customer ', 'T')}\r\n            </text>\r\n            <text x={n.x} y={n.y + 7} textAnchor=\"middle\" fill={c.stroke} fontSize=\"6\" fontWeight=\"600\">\r\n              {os.label}\r\n            </text>\r\n          </g>\r\n        );\r\n      })}\r\n\r\n      {/* Resource nodes (rectangles) */}\r\n      {rNodes.map(n => {\r\n        const isLocked = n.owner !== null;\r\n        return (\r\n          <g key={n.id}>\r\n            <rect x={n.x - 20} y={n.y - 16} width={40} height={32} rx={6}\r\n              fill={isLocked ? 'rgba(245,158,11,0.15)' : 'rgba(99,102,241,0.15)'}\r\n              stroke={isLocked ? '#f59e0b' : '#6366f1'}\r\n              strokeWidth={1.5}\r\n            />\r\n            <text x={n.x} y={n.y - 2} textAnchor=\"middle\" fill=\"#e5e7eb\" fontSize=\"9\" fontWeight=\"bold\" fontFamily=\"monospace\">\r\n              {n.id}\r\n            </text>\r\n            <text x={n.x} y={n.y + 9} textAnchor=\"middle\" fill=\"#9ca3af\" fontSize=\"6\">\r\n              {isLocked ? `üîí${n.owner?.replace('Customer ', 'T')}` : 'üîìfree'}\r\n            </text>\r\n          </g>\r\n        );\r\n      })}\r\n\r\n      {/* Legend */}\r\n      <g transform=\"translate(8, 192)\">\r\n        <line x1=\"0\" y1=\"0\" x2=\"14\" y2=\"0\" stroke=\"#10b981\" strokeWidth=\"1.5\" />\r\n        <text x=\"17\" y=\"3\" fill=\"#9ca3af\" fontSize=\"6\">Holds</text>\r\n        <line x1=\"55\" y1=\"0\" x2=\"69\" y2=\"0\" stroke=\"#6b7280\" strokeWidth=\"1.5\" strokeDasharray=\"4 2\" />\r\n        <text x=\"72\" y=\"3\" fill=\"#9ca3af\" fontSize=\"6\">Waits</text>\r\n        <line x1=\"107\" y1=\"0\" x2=\"121\" y2=\"0\" stroke=\"#ef4444\" strokeWidth=\"2.5\" />\r\n        <text x=\"124\" y=\"3\" fill=\"#9ca3af\" fontSize=\"6\">Cycle</text>\r\n      </g>\r\n    </svg>\r\n  );\r\n}\r\n\r\n/* ‚îÄ‚îÄ‚îÄ Kernel event translator ‚îÄ‚îÄ‚îÄ */\r\nfunction translateToOsEvent(ev) {\r\n  const typeMap = {\r\n    request: { osType: 'SYSCALL', icon: 'üìû', badge: 'bg-blue-500/15 text-blue-400' },\r\n    allocate: { osType: 'MUTEX_LOCK', icon: 'üîí', badge: 'bg-emerald-500/15 text-emerald-400' },\r\n    release: { osType: 'MUTEX_UNLOCK', icon: 'üîì', badge: 'bg-teal-500/15 text-teal-400' },\r\n    block: { osType: 'BLOCK', icon: '‚è∏', badge: 'bg-amber-500/15 text-amber-400' },\r\n    deadlock: { osType: 'DEADLOCK', icon: 'üíÄ', badge: 'bg-red-500/15 text-red-400' },\r\n    recovery: { osType: 'RECOVERY', icon: 'üõ†', badge: 'bg-orange-500/15 text-orange-400' },\r\n    prevention: { osType: 'PREVENT', icon: 'üõ°', badge: 'bg-emerald-500/15 text-emerald-400' },\r\n    avoidance_safe: { osType: 'BANKER_OK', icon: '‚úÖ', badge: 'bg-blue-500/15 text-blue-400' },\r\n    avoidance_denied: { osType: 'BANKER_DENY', icon: '‚õî', badge: 'bg-amber-500/15 text-amber-400' },\r\n  };\r\n  return typeMap[ev.type] || { osType: 'KERNEL', icon: '‚öô', badge: 'bg-surface-500/15 text-surface-400' };\r\n}\r\n\r\n/* ‚îÄ‚îÄ‚îÄ Kernel Event Feed ‚îÄ‚îÄ‚îÄ */\r\nfunction KernelEventFeed({ events }) {\r\n  const scrollRef = useRef(null);\r\n  useEffect(() => {\r\n    if (scrollRef.current) scrollRef.current.scrollTop = 0;\r\n  }, [events.length]);\r\n\r\n  const recent = events.slice(0, 30);\r\n\r\n  return (\r\n    <div ref={scrollRef} className=\"overflow-y-auto space-y-1 pr-1 custom-scrollbar\" style={{ maxHeight: 350 }}>\r\n      {recent.length === 0 ? (\r\n        <div className=\"text-center text-surface-500 text-xs py-8\">\r\n          Press <span className=\"text-accent-light font-bold\">Start</span> on the Dashboard to begin\r\n        </div>\r\n      ) : (\r\n        <AnimatePresence initial={false}>\r\n          {recent.map((ev, i) => {\r\n            const os = translateToOsEvent(ev);\r\n            return (\r\n              <motion.div\r\n                key={ev.id || i}\r\n                initial={{ opacity: 0, y: -8 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ duration: 0.2 }}\r\n                className=\"flex items-start gap-2 py-1.5 px-2.5 rounded-lg bg-surface-900/30 border-l-2 border-surface-700/40\"\r\n              >\r\n                <span className=\"text-sm mt-0.5 flex-shrink-0\">{os.icon}</span>\r\n                <div className=\"min-w-0 flex-1\">\r\n                  <div className=\"flex items-center gap-2 mb-0.5\">\r\n                    <span className={`text-[8px] font-bold uppercase tracking-wider px-1.5 py-0.5 rounded ${os.badge}`}>\r\n                      {os.osType}\r\n                    </span>\r\n                    <span className=\"text-[8px] text-surface-500 font-mono\">{ev.timestamp}</span>\r\n                  </div>\r\n                  <p className=\"text-[10px] text-surface-300 font-mono leading-relaxed truncate\" title={ev.message}>\r\n                    {ev.message}\r\n                  </p>\r\n                </div>\r\n              </motion.div>\r\n            );\r\n          })}\r\n        </AnimatePresence>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\r\n   MAIN COMPONENT\r\n   ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */\r\nexport default function OSLiveMonitor({ sim }) {\r\n  const {\r\n    isRunning, tick, systemStatus, customers, resources,\r\n    eventLog, graphData, deadlockCount, recoveryCount,\r\n    preventionEnabled, avoidanceEnabled, detectionEnabled,\r\n  } = sim;\r\n\r\n  // Derive OS-level stats\r\n  const threadStats = useMemo(() => {\r\n    const states = { running: 0, waiting: 0, deadlocked: 0, idle: 0 };\r\n    customers.forEach(c => { states[c.state] = (states[c.state] || 0) + 1; });\r\n    return states;\r\n  }, [customers]);\r\n\r\n  const mutexStats = useMemo(() => {\r\n    const locked = resources.filter(r => !r.available).length;\r\n    const free = resources.filter(r => r.available).length;\r\n    const contended = resources.filter(r => r.waitingThreads?.length > 0).length;\r\n    return { locked, free, contended, total: resources.length };\r\n  }, [resources]);\r\n\r\n  const statusConfig = {\r\n    idle: { label: 'OFFLINE', color: 'text-surface-400', bg: 'bg-surface-800/50', border: 'border-surface-600/30', glow: '' },\r\n    running: { label: 'EXECUTING', color: 'text-emerald-400', bg: 'bg-emerald-500/10', border: 'border-emerald-500/30', glow: 'success' },\r\n    deadlock: { label: 'DEADLOCK!', color: 'text-red-400', bg: 'bg-red-500/10', border: 'border-red-500/30', glow: 'danger' },\r\n    recovery: { label: 'RECOVERING', color: 'text-orange-400', bg: 'bg-orange-500/10', border: 'border-orange-500/30', glow: '' },\r\n  };\r\n\r\n  const sc = statusConfig[systemStatus] || statusConfig.idle;\r\n\r\n  return (\r\n    <GlassCard className=\"p-6\" glow={sc.glow}>\r\n      {/* Header */}\r\n      <div className=\"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 mb-5\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div className={`p-2.5 rounded-xl ${sc.bg} border ${sc.border}`}>\r\n            <Terminal size={20} className={sc.color} />\r\n          </div>\r\n          <div>\r\n            <h2 className=\"text-lg font-extrabold text-white flex items-center gap-2\">\r\n              Live OS Execution Monitor\r\n              {isRunning && (\r\n                <span className=\"relative flex h-2.5 w-2.5\">\r\n                  <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\" />\r\n                  <span className=\"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-400\" />\r\n                </span>\r\n              )}\r\n            </h2>\r\n            <p className=\"text-xs text-surface-400 mt-0.5\">\r\n              {isRunning\r\n                ? `Kernel view of running simulation ‚Äî Tick ${tick}`\r\n                : 'Press Start on the Dashboard to see OS execution in real-time'\r\n              }\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          {/* System Status Badge */}\r\n          <div className={`flex items-center gap-2 px-3 py-2 rounded-xl text-xs font-bold border ${sc.bg} ${sc.border} ${sc.color}`}>\r\n            {systemStatus === 'deadlock' ? <AlertTriangle size={13} /> : systemStatus === 'running' ? <Activity size={13} /> : <Clock size={13} />}\r\n            {sc.label}\r\n          </div>\r\n\r\n          {/* Strategy Indicators */}\r\n          {preventionEnabled && (\r\n            <span className=\"text-[9px] font-bold px-2 py-1.5 rounded-lg bg-emerald-500/10 border border-emerald-500/30 text-emerald-400\">\r\n              üõ° PREVENTION\r\n            </span>\r\n          )}\r\n          {avoidanceEnabled && (\r\n            <span className=\"text-[9px] font-bold px-2 py-1.5 rounded-lg bg-blue-500/10 border border-blue-500/30 text-blue-400\">\r\n              üè¶ AVOIDANCE\r\n            </span>\r\n          )}\r\n          {detectionEnabled && (\r\n            <span className=\"text-[9px] font-bold px-2 py-1.5 rounded-lg bg-violet-500/10 border border-violet-500/30 text-violet-400\">\r\n              üîç DETECTION\r\n            </span>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {!isRunning && systemStatus === 'idle' ? (\r\n        /* Idle state - prompt */\r\n        <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n          <div className=\"p-4 rounded-2xl bg-surface-800/40 border border-surface-700/30 mb-4\">\r\n            <Cpu size={40} className=\"text-surface-500\" />\r\n          </div>\r\n          <h3 className=\"text-sm font-bold text-surface-300 mb-2\">Simulation Not Running</h3>\r\n          <p className=\"text-xs text-surface-500 max-w-md leading-relaxed\">\r\n            Go to the <span className=\"text-accent-light font-semibold\">Dashboard</span> tab and press{' '}\r\n            <span className=\"inline-flex items-center gap-1 px-2 py-0.5 rounded bg-emerald-500/15 text-emerald-400 font-bold text-[10px]\">\r\n              <Play size={10} /> Start\r\n            </span>{' '}\r\n            to begin the simulation. Then come back here to see OS-level execution in real-time.\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        /* Live monitoring grid */\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-4\">\r\n          {/* Left Column: Thread Table + Scheduler */}\r\n          <div className=\"lg:col-span-4 space-y-3\">\r\n            {/* OS Stats Summary */}\r\n            <div className=\"grid grid-cols-2 gap-2\">\r\n              <div className=\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-2.5 text-center\">\r\n                <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider\">Threads</div>\r\n                <div className=\"text-lg font-extrabold text-white mt-0.5\">{customers.length}</div>\r\n                <div className=\"text-[8px] text-surface-500\">{threadStats.running} running</div>\r\n              </div>\r\n              <div className=\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-2.5 text-center\">\r\n                <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider\">Mutexes</div>\r\n                <div className=\"text-lg font-extrabold text-white mt-0.5\">{mutexStats.total}</div>\r\n                <div className=\"text-[8px] text-surface-500\">{mutexStats.locked} locked</div>\r\n              </div>\r\n              <div className=\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-2.5 text-center\">\r\n                <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider\">Deadlocks</div>\r\n                <div className={`text-lg font-extrabold mt-0.5 ${deadlockCount > 0 ? 'text-red-400' : 'text-white'}`}>{deadlockCount}</div>\r\n                <div className=\"text-[8px] text-surface-500\">{recoveryCount} recovered</div>\r\n              </div>\r\n              <div className=\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-2.5 text-center\">\r\n                <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider\">Contended</div>\r\n                <div className={`text-lg font-extrabold mt-0.5 ${mutexStats.contended > 0 ? 'text-amber-400' : 'text-white'}`}>{mutexStats.contended}</div>\r\n                <div className=\"text-[8px] text-surface-500\">wait queues</div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Process Control Block Table */}\r\n            <div className=\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-3\">\r\n              <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                <Cpu size={10} /> Process Control Block (PCB)\r\n              </div>\r\n              <div className=\"space-y-1.5 max-h-[300px] overflow-y-auto custom-scrollbar pr-1\">\r\n                {customers.map((c, i) => {\r\n                  const os = mapOsState(c.state);\r\n                  return (\r\n                    <motion.div\r\n                      key={c.name}\r\n                      layout\r\n                      className={`flex items-center gap-2 py-1.5 px-2 rounded-lg transition-all duration-300 ${\r\n                        c.state === 'deadlocked'\r\n                          ? 'bg-red-500/10 border border-red-500/30'\r\n                          : c.state === 'waiting'\r\n                          ? 'bg-rose-500/5 border border-rose-500/20'\r\n                          : c.state === 'running'\r\n                          ? 'bg-emerald-500/5 border border-emerald-500/20'\r\n                          : 'bg-surface-800/20 border border-surface-700/20'\r\n                      }`}\r\n                    >\r\n                      {/* PID */}\r\n                      <span className=\"text-[9px] font-mono text-surface-500 w-8\">T{i}</span>\r\n\r\n                      {/* Thread Name */}\r\n                      <span className=\"text-[10px] font-semibold text-surface-200 flex-1 truncate\" title={c.name}>\r\n                        {c.name}\r\n                      </span>\r\n\r\n                      {/* State indicator */}\r\n                      <span className=\"relative flex h-2 w-2 flex-shrink-0\">\r\n                        {(c.state === 'running' || c.state === 'deadlocked') && (\r\n                          <span className={`animate-ping absolute inline-flex h-full w-full rounded-full ${os.color} opacity-75`} />\r\n                        )}\r\n                        <span className={`relative inline-flex rounded-full h-2 w-2 ${os.color}`} />\r\n                      </span>\r\n\r\n                      {/* State label */}\r\n                      <span className={`text-[8px] font-bold uppercase tracking-wider w-16 text-right ${os.text}`}>\r\n                        {os.label}\r\n                      </span>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Mutex Table */}\r\n            <div className=\"rounded-xl bg-surface-900/40 border border-surface-700/30 p-3\">\r\n              <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                <Lock size={10} /> Kernel Mutex Table\r\n              </div>\r\n              <div className=\"space-y-1 max-h-[200px] overflow-y-auto custom-scrollbar pr-1\">\r\n                {resources.map((r) => {\r\n                  const mi = mutexInfo(r);\r\n                  return (\r\n                    <div\r\n                      key={r.id}\r\n                      className={`flex items-center gap-2 py-1.5 px-2 rounded-lg border transition-all ${mi.bg} ${mi.border}`}\r\n                    >\r\n                      <span className=\"text-sm flex-shrink-0\">{mi.icon}</span>\r\n                      <span className=\"text-[10px] font-bold text-surface-200 flex-1 truncate\" title={r.name}>{r.name || r.id}</span>\r\n                      <span className={`text-[8px] font-bold ${mi.color}`}>{mi.state}</span>\r\n                      {r.owner && (\r\n                        <span className=\"text-[8px] text-amber-400 font-mono truncate max-w-[60px]\" title={r.owner}>\r\n                          {r.owner.replace('Customer ', 'T')}\r\n                        </span>\r\n                      )}\r\n                      {r.waitingThreads?.length > 0 && (\r\n                        <span className=\"text-[7px] text-rose-400 font-mono\">\r\n                          Q[{r.waitingThreads.length}]\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Center: Live Resource Allocation Graph */}\r\n          <div className=\"lg:col-span-4\">\r\n            <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n              <Activity size={10} /> Live Resource Allocation Graph\r\n            </div>\r\n            <div className={`rounded-xl border p-3 transition-all duration-500 ${\r\n              systemStatus === 'deadlock'\r\n                ? 'bg-red-500/5 border-red-500/30'\r\n                : systemStatus === 'recovery'\r\n                ? 'bg-orange-500/5 border-orange-500/20'\r\n                : preventionEnabled || avoidanceEnabled\r\n                ? 'bg-emerald-500/5 border-emerald-500/20'\r\n                : 'bg-surface-900/50 border-surface-700/30'\r\n            }`}>\r\n              <LiveRAG customers={customers} resources={resources} />\r\n\r\n              {/* Status indicator below graph */}\r\n              <AnimatePresence mode=\"wait\">\r\n                {systemStatus === 'deadlock' && (\r\n                  <motion.div\r\n                    key=\"deadlock\"\r\n                    initial={{ opacity: 0, scale: 0.9 }}\r\n                    animate={{ opacity: 1, scale: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"text-center mt-2\"\r\n                  >\r\n                    <span className=\"text-xs font-bold text-red-400 px-3 py-1.5 rounded-full bg-red-500/10 border border-red-500/30 animate-pulse\">\r\n                      üíÄ CIRCULAR WAIT ‚Üí DEADLOCK DETECTED\r\n                    </span>\r\n                  </motion.div>\r\n                )}\r\n                {systemStatus === 'recovery' && (\r\n                  <motion.div\r\n                    key=\"recovery\"\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"text-center mt-2\"\r\n                  >\r\n                    <span className=\"text-xs font-bold text-orange-400 px-3 py-1.5 rounded-full bg-orange-500/10 border border-orange-500/30\">\r\n                      üõ† OS Recovery: preempting victim thread...\r\n                    </span>\r\n                  </motion.div>\r\n                )}\r\n                {(preventionEnabled || avoidanceEnabled) && systemStatus === 'running' && (\r\n                  <motion.div\r\n                    key=\"protected\"\r\n                    initial={{ opacity: 0 }}\r\n                    animate={{ opacity: 1 }}\r\n                    exit={{ opacity: 0 }}\r\n                    className=\"text-center mt-2\"\r\n                  >\r\n                    <span className=\"text-xs font-bold text-emerald-400 px-3 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/30\">\r\n                      {preventionEnabled ? 'üõ° Resource Ordering Active' : 'üè¶ Banker\\'s Algorithm Active'} ‚Äî No Deadlock\r\n                    </span>\r\n                  </motion.div>\r\n                )}\r\n              </AnimatePresence>\r\n            </div>\r\n\r\n            {/* Scheduler Info */}\r\n            <div className=\"mt-3 rounded-xl bg-surface-900/40 border border-surface-700/30 p-3\">\r\n              <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                <Clock size={10} /> OS Scheduler\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-[10px] text-surface-400\">Policy</span>\r\n                  <span className=\"text-[10px] font-bold text-blue-400\">CFS (Completely Fair Scheduler)</span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-[10px] text-surface-400\">Time Quantum</span>\r\n                  <span className=\"text-[10px] font-bold text-surface-200 font-mono\">1.2s (TICK_INTERVAL)</span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-[10px] text-surface-400\">Ready Queue</span>\r\n                  <span className=\"text-[10px] font-bold text-emerald-400 font-mono\">{threadStats.running} threads</span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-[10px] text-surface-400\">Wait Queue</span>\r\n                  <span className={`text-[10px] font-bold font-mono ${threadStats.waiting > 0 ? 'text-rose-400' : 'text-surface-400'}`}>\r\n                    {threadStats.waiting + (threadStats.deadlocked || 0)} threads\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-[10px] text-surface-400\">Context Switches</span>\r\n                  <span className=\"text-[10px] font-bold text-surface-200 font-mono\">~{tick * 2}/s</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Kernel Call Stack */}\r\n            <div className=\"mt-3 rounded-xl bg-surface-900/40 border border-surface-700/30 p-3\">\r\n              <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n                <MemoryStick size={10} /> Current Kernel Activity\r\n              </div>\r\n              <div className=\"font-mono text-[9px] text-surface-300 space-y-0.5 p-2 rounded bg-surface-950/60 border border-surface-800/40\">\r\n                {systemStatus === 'deadlock' ? (\r\n                  <>\r\n                    <div className=\"text-red-400\">‚Üí detect_deadlock(wait_for[][])</div>\r\n                    <div className=\"text-red-400\">  ‚Üí DFS: cycle found!</div>\r\n                    <div className=\"text-orange-400\">  ‚Üí select_victim(lowest_priority)</div>\r\n                    <div className=\"text-orange-400\">  ‚Üí preempt_resources(victim)</div>\r\n                  </>\r\n                ) : systemStatus === 'recovery' ? (\r\n                  <>\r\n                    <div className=\"text-orange-400\">‚Üí recover_deadlock()</div>\r\n                    <div className=\"text-orange-400\">  ‚Üí pthread_mutex_unlock(victim)</div>\r\n                    <div className=\"text-emerald-400\">  ‚Üí wake_blocked_threads()</div>\r\n                    <div className=\"text-blue-400\">  ‚Üí reschedule()</div>\r\n                  </>\r\n                ) : preventionEnabled ? (\r\n                  <>\r\n                    <div className=\"text-emerald-400\">‚Üí acquire_resource_ordered(tid, rid)</div>\r\n                    <div className=\"text-emerald-400\">  ‚Üí check_ordering(held_max, rid)</div>\r\n                    <div className=\"text-blue-400\">  ‚Üí pthread_mutex_trylock(mutex[rid])</div>\r\n                    <div className=\"text-surface-400\">  ‚Üí schedule_next()</div>\r\n                  </>\r\n                ) : avoidanceEnabled ? (\r\n                  <>\r\n                    <div className=\"text-blue-400\">‚Üí bankers_check(tid, rid)</div>\r\n                    <div className=\"text-blue-400\">  ‚Üí compute_safe_sequence()</div>\r\n                    <div className=\"text-emerald-400\">  ‚Üí safe_state ? grant() : deny()</div>\r\n                    <div className=\"text-surface-400\">  ‚Üí schedule_next()</div>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <div className=\"text-blue-400\">‚Üí schedule_tick()</div>\r\n                    <div className=\"text-surface-400\">  ‚Üí for_each_thread(try_acquire)</div>\r\n                    <div className=\"text-surface-400\">  ‚Üí update_wait_queues()</div>\r\n                    <div className=\"text-surface-400\">  ‚Üí context_switch(next_thread)</div>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right: Kernel Event Feed */}\r\n          <div className=\"lg:col-span-4\">\r\n            <div className=\"text-[9px] font-bold text-surface-400 uppercase tracking-wider mb-2 flex items-center gap-1.5\">\r\n              <Zap size={10} /> Kernel Event Stream (Live)\r\n            </div>\r\n            <div className=\"rounded-xl border border-surface-700/30 bg-surface-900/40 p-3\">\r\n              <KernelEventFeed events={eventLog} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </GlassCard>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}